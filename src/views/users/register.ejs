<!DOCTYPE html>
<html lang="es">

<%- include('../partials/head.ejs') %> 
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
<body>

    <%- include('../partials/header.ejs') %> 


    <div class="caja-registro-escritorio">
        <div class="caja-form-registro">
            <center>
                <h2 class="h2-registro">Crear Cuenta</h2>
                <form action="/users/register" method="POST" enctype="multipart/form-data">
                    <input type="text" class="input-registro" name="name" id="nombre" placeholder="Nombre"
                    <% if(typeof valores != 'undefined') { %><%= valores.name %><%}%>>><br>
                    <input type="text" class="input-registro" name="lastname" id="apellido" placeholder="  Apellido"
                    <% if(typeof valores != 'undefined') { %><%= valores.lastname %><%}%>>><br>
                    <input type="text" class="input-registro" name="email" id="email" placeholder=" Email"
                    <% if(typeof valores != 'undefined') { %><%= valores.email %><%}%>>><br>
                    <input type="text" class="input-registro" name="password" id="password"
                        placeholder=" Contraseña" <% if(typeof valores != 'undefined') { %><%= valores.password %><%}%>>><br>
                    <input type="text" class="input-registro" name="confirm-password" id="confirm-password"
                        placeholder=" Confirmar contraseña" <% if(typeof valores != 'undefined') { %><%= valores.confirm-password %><%}%>>><br>

                    <input type="file" id="formFile" name="image"><br><br>
    
                    <input type="checkbox" class="notificaciones" name="notificaciones" id="notificaciones"><label for="notificaciones"> Recibir
                        notificaciones</label><br>
                    <button type="submit" class="new-account">CREAR CUENTA</button><br>
                    <hr class="hr-registro">
                    <p>¿Ya tenes cuenta?<a href="/users/login"> Iniciar sesión</a> </p>
                </form>
                <% if(typeof validaciones != 'undefined') { %>
                    <% validaciones.forEach( (validacion)=> { %>                 
                      <div class="toast-container">
                    <div class="toast" role="alert" aria-live="assertive" data-bs-autohide="false">
                        <div class="toast-header">
                          <svg class="bd-placeholder-img rounded me-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#007aff"></rect></svg>
                          <strong class="me-auto">¡Atención!</strong>                 
                          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                        <div class="toast-body">
                          <strong><%= validacion.msg %></strong> 
                        </div>
                    </div>
                      </div>              
                      <% }) %>
                  <% } %>
            </center>
        </div>
    </div>


    <%- include('../partials/footer.ejs') %> 

    <%- include('../partials/scripts.ejs') %> 

    <script>
    document.addEventListener('DOMContentLoaded', function () {
      var toastElList = [].slice.call(document.querySelectorAll('.toast'))
      var toastList = toastElList.map(function(toastEl) {    
      return new bootstrap.Toast(toastEl)
      });
      toastList.forEach(toast => toast.show());
    });
    </script>
    
</body>
</html>